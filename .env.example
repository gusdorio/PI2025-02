# Database Configuration
# Copy this file to .env and update with your actual values

# MongoDB Configuration
MONGO_HOST=localhost
MONGO_PORT=27017
MONGO_DATABASE=pi2502
MONGO_USER=root
MONGO_PASSWORD=root_password123

# Environment
ENVIRONMENT=development

# Azure Global Configurations
RESOURCE_GROUP=
LOCATION=eastus2
ENVIRONMENT_NAME=
AZ_SUBSCRIPTION_ID=$(az account show --query id --output tsv)

# Azure Service Principal (for GitHub Actions authentication with Azure)
AZ_SERVICE_PRINCIPAL_ID=your-service-principal-id
AZ_SERVICE_PRINCIPAL_PASSWORD=your-service-principal-password

# Azure Registry
ACR_NAME=
ACR_LOGIN_SERVER=${ACR_NAME}.azurecr.io
ACR_USERNAME=
ACR_PASSWORD=
ACR_ID=$(az acr show --name ${ACR_NAME} --query id --output tsv)

# Azure CosmosDB
COSMOSDB_ACCOUNT=pi2025
COSMOSDB_HOST=${COSMOSDB_ACCOUNT}.mongo.cosmos.azure.com
COSMOSDB_PORT=10255
COSMOSDB_USER=
COSMOSDB_PASSWORD=
COSMOSDB_DATABASE=

# CosmosDB Connection Settings
MONGO_TLS=true
MONGO_AUTH_SOURCE=admin
MONGO_CONNECT_TIMEOUT=30000
MONGO_SOCKET_TIMEOUT=30000
MONGO_SERVER_TIMEOUT=30000

# MongoDB Connection String (takes precedence over individual settings)
MONGO_URI=mongodb://${COSMOSDB_USER}:${COSMOSDB_PASSWORD}@${COSMOSDB_HOST}:${COSMOSDB_PORT}/${COSMOSDB_DATABASE}?ssl=true&replicaSet=globaldb&retrywrites=false&maxIdleTimeMS=120000appName=@${COSMOSDB_ACCOUNT}@

# Azure Container Apps
ML_MODEL_URL=$(az containerapp show --name ml-model --resource-group $RESOURCE_GROUP --query "properties.configuration.ingress.fqdn" --output tsv)
DASHBOARD_URL=$(az containerapp show --name dashboard --resource-group $RESOURCE_GROUP --query "properties.configuration.ingress.fqdn" --output tsv)